{"version":3,"file":"Lath_app_index-433bd561_js.js","mappings":"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","sources":["webpack://lath-docs/../Lath/app/index-433bd561.js"],"sourcesContent":["function testHasSmoothScrolling(){const t=document.createElement(\"div\");return t.style.scrollBehavior=\"smooth\",!!t.style.cssText.includes(\"smooth\")&&CSS.supports(\"scroll-behavior\",\"smooth\")}function testHasSmoothSnapScrolling(){return!(!(\"scrollSnapAlign\"in document.documentElement.style||\"webkitScrollSnapAlign\"in document.documentElement.style||\"msScrollSnapAlign\"in document.documentElement.style)||!testHasSmoothScrolling())}var setTimeout$1,setInterval,requestIdleCallback,requestAnimationFrame,index$1,windowOpen,tapHighlight,cssVar,inject,provider,index;import{t as typeError,_ as __awaiter}from\"./index-1516f771.js\";const EventGroupSymbol=Symbol(\"__EventGroupName__\");class EventProvider{constructor(){this._events={}}on(t,e,i){return Object.defineProperty(e,EventGroupSymbol,{value:i,writable:!0}),this._events[t]||(this._events[t]=[]),null!=(i=this._events[t])&&i.push(e),this}one(e,i,t){const s=(...t)=>{i(...t),this.off(e,s)};return Object.defineProperty(s,EventGroupSymbol,{value:t,writable:!0}),this._events[e]||(this._events[e]=[]),null!=(t=this._events[e])&&t.push(s),this}off(t,e){var i;if(!this._events[t])return this;e=null!=(i=null==(i=this._events[t])?void 0:i.indexOf(e))?i:-1;return-1<e&&null!=(i=this._events[t])&&i.splice(e,1),this}removeEventGroup(e){var t=t=>{return null==(t=this._events[t])?void 0:t.filter(t=>t[EventGroupSymbol]!==e)};for(const i in this._events)this._events[i]=t(i);return this}trigger(i,...t){var e;return this._events[i]&&null!=(e=this._events[i])&&e.forEach(e=>{try{e(...t)}catch(t){this.off(i,e),this.trigger(\"error\",t)}}),this}}class AppletBase extends EventProvider{constructor(t,e,i){super(),this.param=\"\",this.slide=null,this.modality=null,this.view=null,this.img=null,this.events={transformStart:()=>{},transformEnd:()=>{},boot:()=>{},load:()=>{},loadError:()=>{},preload:()=>{},destroy:()=>{}},this.darkTask=[],this.createTime=Date.now(),this.transient=!1,this.config={title:\"\",level:0,source:{},prerender:[],apply:[\"smart-setTimeout\",\"smart-setInterval\",\"link-new-viewport\",\"tap-highlight\"],background:\"auto\",free:!1},this.components=[],this.resources={script:[],image:[],worker:[],video:[],audio:[],font:[],style:[]},this.id=t,this.model=e,this.application=i,this.appletsSpace=i.appletsSpace;var{config:i,resources:e,events:t,components:s}=this.setDefaultConfig(e,t);Object.assign(this.config,i),Object.assign(this.resources,e),Object.assign(this.events,t),s&&(this.components=s)}get self(){return this.application.applets[this.id]||this}setBaseCss(){const t=document.createElement(\"style\");t.innerHTML=`\n      body::-webkit-scrollbar {\n        display: none;\n      }\n      body::scrollbar {\n        display: none;\n      }\n    `,document.getElementsByTagName(\"head\")[0].appendChild(t)}setDefaultConfig(t,e){const i=t.config;if(\"frameworks\"!==e&&\"system\"!==e||(i.free&&typeError(1101,\"warn\"),(null!=(e=i.source)&&e.html||null!=(e=i.source)&&e.src)&&typeError(1102,\"warn\")),!i.portal||i.free||typeError(1103,\"warn\"),void 0===i.level&&typeError(1104,\"warn\"),1e4<(null!=(e=i.level)?e:0)&&typeError(1105,\"warn\"),null!=(e=null===i||void 0===i?void 0:i.unApply)&&e.length){const s=i.unApply;this.config.apply=null==(e=this.config.apply)?void 0:e.filter(t=>!s.includes(t))}return 0===(null==(e=i.modality)?void 0:e.indexOf(\"sheets:\"))&&(i.animation&&typeError(1106,\"warn\"),i.animation=\"sheets-bottom\"),t}}class AppletState extends AppletBase{constructor(){super(...arguments),this.visibility=!1,this.transforming=!1,this.status={preload:!1,prefetch:!1,prerender:!1,refreshing:!1,requestRefresh:!1,presetElements:!1}}resume(){this.status={preload:!1,prefetch:!1,prerender:!1,refreshing:!1,requestRefresh:!1,presetElements:!1},this.darkTask=[],this.view=null,this.img=null}get swipeModel(){var t;return!!(null!=(t=this.application.config.swipeModel)?t:\"ontouchend\"in document)}get sameOrigin(){return this.uri?new URL(this.uri,window.location.toString()).host===location.host:void 0===this.config.sandbox||!!this.config.sandbox.includes(\"allow-same-origin\")}get level(){var t;return null!=(t=this.config.level)?t:0}get viewIndex(){var t;return null!=(t=this.level)?t:(null!=(t=null==(t=this.application.prevActivityApplet)?void 0:t.level)?t:0)+1}get rel(){return\"system\"===this.id?\"system\":\"frameworks\"===this.id?\"frameworks\":\"applet\"}get uri(){var t;return(null==(t=null==(t=this.config)?void 0:t.source)?void 0:t.src)||\"\"}get source(){var t;const e=(null==(t=null==(t=this.config)?void 0:t.source)?void 0:t.html)||\"\";return\"string\"==typeof e?e:e()}get hasSource(){var t;return!!(this.uri||null!=(t=null==(t=this.config)?void 0:t.source)&&t.html)}get noSource(){return!this.hasSource&&!this.config.render}get viewType(){var t;return\"applet\"===this.rel&&this.hasSource?null!=(t=this.config)&&t.portal&&this.sameOrigin?\"portal\":\"iframe\":\"shadow\"}get color(){if(\"applet\"!==this.rel)return\"transparent\";var t=this.application.properties.darkTheme,t=\"\"+(this.config.color||(t?\"#000\":\"#fff\"));return\"frameworks\"!==this.id&&\"inherit\"==t?this.application.applets.frameworks.color:t}get expired(){var t;return!!this.view&&((null==(t=this.application.prevActivityApplet)||!t.config.modality)&&!!(this.status.requestRefresh||Date.now()-this.createTime>=(null!=(t=this.config.timeout)?t:6e7)))}get isModality(){return!!this.config.modality}get isFullscreen(){return!this.isModality}get useControls(){return this.swipeModel&&\"applet\"===this.rel&&this.isFullscreen}get unusedShadowDom(){return\"shadow\"===this.viewType&&!!this.config.unusedShadowDom}get mirroringString(){try{return localStorage.getItem(\"__MODULE_IMG__\"+this.id)||\"\"}catch(t){return\"\"}}get contentWindow(){var t;return null!=(t=null==(t=null==(t=this.sandbox)?void 0:t.window)?void 0:t.window)?t:window}get mirroringHTML(){if(\"shadow\"===this.viewType)return null!=(t=null==(t=this.view)?void 0:t.outerHTML)?t:\"\";if(!this.sameOrigin)return\"\";var t=null==(t=this.sandbox)?void 0:t.sandbox;const i=[\"script\",\"template\"];try{const e=t.contentDocument;if(!e)return\"\";const s=e.querySelectorAll(\"*\"),o=[];return s.forEach(t=>{const e=t.tagName;i.includes(e)||(-1!==e.indexOf(\"-\")&&(t.style.visibility=\"hidden\"),o.push(t.outerHTML))}),o.join(\"\\n\")}catch(t){return\"\"}}saveMirroring(){if(!this.config.useMirroring||!this.sameOrigin)return Promise.resolve(!1);var e=\"__MODULE_IMG__\"+this.id,i=null!=(i=this.mirroringHTML)?i:\"\";try{return localStorage.setItem(e,i),Promise.resolve(!0)}catch(t){return localStorage.clear(),localStorage.setItem(e,i),Promise.resolve(!1)}}setActionOrigin(t){t&&(this.actionOriginMap=t)}getActionOrigin(){return this.actionOriginMap}injectWindowVisibilityState(t){if(this.sameOrigin){const e=this.contentWindow;e&&(e.appletVisibilityState=t)}}triggerWindow(t){var e;null!=(e=this.contentWindow)&&e.postMessage({type:t,appletId:this.id,historyDirection:this.application.segue.historyDirection},\"*\")}}class AppletLifeCycle extends AppletState{attach(t,e,i){t&&(this.viewport=t,this.parentApplet=e,this.mountBehavior=i)}removeContainer(){var t;null!=(t=null==(t=this.contentView)?void 0:t.parentElement)&&t.removeChild(this.contentView),null!=(t=null==(t=this.viewport)?void 0:t.parentNode)&&t.removeChild(this.viewport),this.viewport=void 0,this.delPresetView()}clearContainer(){var t;null!=(t=null==(t=this.contentView)?void 0:t.parentElement)&&t.removeChild(this.contentView),this.viewport&&(this.viewport.innerHTML=\"\"),this.delPresetView()}delPresetView(){this.contentView=void 0,this.application.delPresetAppletsView(this.id)}setParam(t){return this.param!==t?(this.param=t,this.destroy(!0)):Promise.resolve(!0)}show(){var t,e=this.viewType;if(\"portal\"===e)null!=(t=this.view)&&t.activate();else{for(const i of this.darkTask)i();this.transforming=!1,this.darkTask=[],this.visibility=!0,this.trigger(\"show\"),\"iframe\"===e&&(this.triggerWindow(\"applet-show\"),this.injectWindowVisibilityState(\"visible\"))}}hide(){this.transforming=!1,this.visibility=!1,this.trigger(\"hide\"),\"iframe\"===this.viewType&&(this.triggerWindow(\"applet-hidden\"),this.injectWindowVisibilityState(\"hidden\"))}willShow(){this.transforming=!0,this.trigger(\"willShow\"),\"iframe\"===this.viewType&&(this.triggerWindow(\"applet-will-show\"),this.injectWindowVisibilityState(\"willVisible\"))}willHide(){this.transforming=!0,this.trigger(\"willHide\"),\"iframe\"===this.viewType&&(this.triggerWindow(\"applet-will-hide\"),this.injectWindowVisibilityState(\"willHidden\"))}willSegueShow(){this.trigger(\"willSegueShow\")}willSegueHide(){this.trigger(\"willSegueHide\")}destroy(i=!1){return new Promise(t=>{var e;return this.view?!0===this.status.presetElements||\"frameworks\"===this.rel||\"system\"===this.rel||(null==(e=this.application.segue)?void 0:e.id)===this.id&&!1===i?t(!1):(\"iframe\"===this.viewType&&this.unload(),!1===i?this.removeContainer():this.clearContainer(),this.resume(),null!=(e=this.events)&&e.destroy(this.self),this.application.removeEventGroup(this.id),this.trigger(\"destroy\"),void t(!0)):t(!0)})}observer(e){var t=this.sandbox?null==(t=this.sandbox.document)?void 0:t.documentElement:this.view;if(t){const i=new MutationObserver(t=>{e(t)});return i.observe(t,{subtree:!0,attributes:!0,childList:!0,characterData:!0,attributeOldValue:!0,characterDataOldValue:!0}),i}}collectAllElements(t){function s(e){for(let t=0;t<e.length;t++){const i=e[t];o.push(i),i.shadowRoot&&s(i.shadowRoot.querySelectorAll(\"*\"))}}const o=[];return t.shadowRoot&&s(t.shadowRoot.querySelectorAll(\"*\")),s(t.querySelectorAll(\"*\")),o}autoMediaController(r){return new Promise((t,e)=>{try{if(\"iframe\"!==this.viewType)return t();if(void 0===this.sandbox)return t();var i=r.filter(t=>\"video\"===t.tagName||\"audio\"===t.tagName);for(const s in i){const o=i[s];null!==o&&void 0!==o&&o.paused||(o.pause(),this.darkTask.push(()=>{o.play()}))}}catch(t){e()}})}destructiveTags(t){const e=[\"object\",\"embed\",\"applet\",\"iframe\"];return!!t.filter(t=>e.includes(t.tagName)).length}guarding(){return new Promise(e=>{var t;if(\"applet\"!==this.rel)return e(!0);if(!0===this.config.background)return e(!0);if(!1===this.config.background)return e(!1);if(\"iframe\"!==this.viewType)return e(!0);if(void 0===this.sandbox)return e(!0);if(!1===this.sameOrigin)return e(!1);var i=this.view;try{var s=null==(t=i.contentDocument)?void 0:t.documentElement;if(!s)return e(!0);var o=this.collectAllElements(s);if(!1!==this.config.mediaGuard&&this.autoMediaController(o).catch(e),this.destructiveTags(o))return e(!1);const n={times:0};var r=this.observer(()=>{n.times++,1e3<n.times&&(e(!1),this.mutationObserver.disconnect())});if(!r)return;this.mutationObserver=r,setTimeout(()=>{10<n.times&&e(!1)},3e3)}catch(t){e(!0)}})}cancelGuard(){var t;null!=(t=this.mutationObserver)&&t.disconnect()}unload(r){var t;return void 0===r&&(r=null==(t=this.sandbox)?void 0:t.sandbox),new Promise(t=>{var e,i;if(this.cancelGuard(),!r)return t();r===(null==(i=this.sandbox)?void 0:i.sandbox)&&this.saveMirroring();try{r.contentWindow&&(r.contentWindow.onunload=null),r.style.display=\"none\",r.src=\"about:blank\";const s=null==(e=r.contentWindow)?void 0:e.window,o=r.contentDocument;null!==s&&void 0!==s&&s.location.reload(),null!==o&&void 0!==o&&o.open(),null!==o&&void 0!==o&&o.write(\"\"),null!==o&&void 0!==o&&o.close()}catch(t){}null!=(i=r.parentNode)&&i.removeChild(r),t()})}}class Sandbox{constructor(t,e){const i=this.sandbox=document.createElement(\"iframe\");return i.src=t||\"about:blank\",i.style.display=\"none\",void 0!==e&&this.set(e),this}get window(){return this.sandbox.contentWindow}get document(){return this.sandbox.contentDocument}set src(t){this.sandbox.src=t}set onunload(t){this.window.onunload=t}set onload(t){this.sandbox.onload=t}set onerror(t){this.sandbox.onerror=t}set(t){this.sandbox.setAttribute(\"sandbox\",t)}reset(t){return this.exit(),this.set(t),this}open(){var t;return null!=(t=this.document)&&t.open(),this}write(t='<head><meta charset=\"utf-8\"></head>'){var e;return t=\"<!DOCTYPE html>\"+t,null!=(e=this.document)&&e.write(t),this}close(){var t;return null!=(t=this.document)&&t.close(),this}append(t,e){this.enter(e),this.open(),this.write(t),this.close()}enter(t){t.appendChild(this.sandbox)}exit(){const t=this.sandbox.parentNode;t&&t.removeChild(this.sandbox)}}setTimeout$1=window.backgroundSetTimeout||window.setTimeout,setInterval=window.backgroundSetInterval||window.setInterval,requestIdleCallback=window.requestIdleCallback||((t,e)=>{const i=Date.now();return setTimeout$1(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-i))}})},Math.min(null!=(e=null==e?void 0:e.timeout)?e:1,1))}),requestAnimationFrame=window.requestAnimationFrame||setTimeout$1;class AppletPrefetch extends AppletLifeCycle{dependenciesLoad(o,r){return new Promise((e,i)=>{var t=document.head;const s=new Sandbox(o,\"\");s.onload=t=>{s.exit(),e(t)},s.onerror=t=>{s.exit(),i(t)},o?s.enter(t):r?s.append(r,t):i()})}preload(){return __awaiter(this,void 0,void 0,function*(){return this.dependenciesLoad(this.uri,yield this.source).then(()=>{var t;this.status.preload=!0,null!=(t=this.events)&&t.preload(this.self),this.trigger(\"preload\")})})}prefetch(){return new Promise((t,e)=>{Promise.all([this.prefetchStatic(this.resources.script,\"script\"),this.prefetchStatic(this.resources.image,\"image\"),this.prefetchStatic(this.resources.worker,\"worker\"),this.prefetchStatic(this.resources.video,\"video\"),this.prefetchStatic(this.resources.audio,\"audio\"),this.prefetchStatic(this.resources.font,\"font\"),this.prefetchStatic(this.resources.style,\"style\"),this.prefetchStatic(this.resources.html,\"document\")]).then(()=>{this.status.prefetch=!0,this.trigger(\"prefetch\"),t(!0)}).catch(e)})}prefetchStatic(i=[],s=\"script\"){return new Promise((t,e)=>{Promise.all([].concat(i).map(t=>this.prelink(t,\"preload\",s))).then(t).catch(e)})}prelink(o,r=\"preload\",n=\"worker | video | audio | font | script | style | image | document\"){return o?new Promise((i,s)=>{requestIdleCallback(()=>{var t;const e=document.createElement(\"link\");if(e.rel=r,e.href=o,e.as=n,e.onload=i,e.onerror=s,\"preload\"===r&&\"document\"===n&&this.dependenciesLoad(o),null==(t=e.relList)||!t.supports(r))return i(void 0);document.getElementsByTagName(\"head\")[0].appendChild(e),i(void 0)},{timeout:15e3})}):Promise.resolve(void 0)}prerender(){return this.status.preload||this.status.prerender?Promise.resolve():new Promise((t,e)=>{this.preload().then(t).catch(e),this.prefetch(),this.prelink(this.uri,\"prerender\",\"document\")})}}class AppletEventTarget extends AppletPrefetch{constructor(){super(...arguments),this.borderHolder=[],this.getTouchBorderType=t=>{var e=this.viewport,i=e.offsetWidth,e=e.offsetHeight,t=t.touches[0],s=t.clientX,t=t.clientY;const o=[];var r=null!=(r=this.config.borderTouchSize)?r:100;return s<=r?o.push(\"left\"):i-r<=s&&o.push(\"right\"),t<=r?o.push(\"top\"):e-r<=t&&o.push(\"bottom\"),o}}attachEvent(){this.registerBorderTouch(),this.bindOverscrollHistoryNavigation(),this.registerTapStatusBarToScrollToTop(),this.registerPullToRefresh()}scrollToTop(){const i=this.getMainScroller();i&&Promise.resolve().then(function(){return index$1}).then(({SmoothScroller:t})=>{const e=new t(i);e.scrollTo(0,0)}).catch}registerPullToRefresh(){if(this.config.pullToRefresh)if(this.application.pullRefreshHolder.holder){const e=this.application.pullRefreshHolder.holder,i=this.application.pullRefreshHolder.spinner,s=this.application.pullRefreshHolder.holdLayer,o=this.getMainScroller(this.config.pullToRefreshTargetScrollId);o&&import(\"./index-a36d95ad.js\").then(t=>{t.registerPullDownEvent(this.self,o,e,i,s)}).catch}else this.application.on(\"pullToRefreshAvailable\",()=>{this.registerPullToRefresh()})}registerTapStatusBarToScrollToTop(){if(this.config.tapStatusBarToScrollToTop){const t=this.borderHolder[0];t.addEventListener(\"touchend\",()=>{this.scrollToTop()})}}getMainScroller(t=this.config.mainScrollId){var e;let i;if(\"shadow\"===this.viewType)i=t?(null==(e=null==(e=this.view)?void 0:e.shadowRoot)?void 0:e.getElementById(t))||document.getElementById(t):this.contentView;else if(this.sameOrigin){const s=null==(e=this.sandbox)?void 0:e.window;i=t?null===s||void 0===s?void 0:s.document.getElementById(t):null===s||void 0===s?void 0:s.document.body}return i}bindOverscrollHistoryNavigation(){this.on(\"touchBorder\",(t,e)=>{\"touchmove\"===e.type&&(t.includes(\"left\")||t.includes(\"right\")||t.includes(\"wipe\"))&&(this.application.overscrollHistoryNavigation.moment=Date.now(),this.application.overscrollHistoryNavigation.type=t.join(\" \"))})}addBorderPanMoveHolder(t){var e=null!=(e=this.config.borderTouchSize)?e:15;const i=document.createElement(\"div\"),s=document.createElement(\"div\"),o=document.createElement(\"div\"),r=document.createElement(\"div\"),n=document.createElement(\"div\");var l=\"position: absolute; z-index: 3;\";return i.style.cssText=l+` top: 0; right: 0; left: 0; height: env(safe-area-inset-top); mini-height: ${e}px;`,s.style.cssText=l+` top: 0; right: 0; bottom: 0; z-index: 3; width: ${e}px;`,o.style.cssText=l+` right: 0; bottom: 0; left: 0; z-index: 3; height: ${e}px;`,r.style.cssText=l+` top: 0; bottom: 0; left: 0; z-index: 3; width: ${e}px;`,n.style.cssText=`display: none; ${l} top: 0; right: 0; bottom: 0; left: 0; z-index: 4;`,t.appendChild(i),t.appendChild(s),t.appendChild(o),t.appendChild(r),t.appendChild(n),this.borderHolder=[i,s,o,r,n]}registerBorderHolderTouch(){const[e,i,s,o,r]=this.addBorderPanMoveHolder(this.viewport),n=[],l=r.addEventListener,t=r.removeEventListener,a=t=>{this.trigger(\"touchBorder\",n,t)},h=t=>{n.length=0,t.target===e?n.push(\"top\"):t.target===i?n.push(\"right\"):t.target===s?n.push(\"bottom\"):t.target===o&&n.push(\"left\"),r.style.display=\"block\",l(\"touchmove\",a),l(\"touchend\",a),l(\"touchcancel\",a)},c=()=>{r.style.display=\"none\",t(\"touchmove\",a),t(\"touchend\",a),t(\"touchcancel\",a)};var p=t=>{const e=t.addEventListener;e(\"touchstart\",h),e(\"touchmove\",h),e(\"touchcancel\",c),e(\"touchend\",c)};p(e),p(i),p(s),p(o)}registerBorderTouch(){var t;if(this.sandbox&&!this.sameOrigin)return this.registerBorderHolderTouch();const e=(null==(t=null==(t=this.sandbox)?void 0:t.window)?void 0:t.document)||this.viewport,i=[],s=t=>{this.trigger(\"touchBorder\",i,t),\"touchend\"!==t.type&&\"touchcancel\"!==t.type||(e.removeEventListener(\"touchmove\",s),e.removeEventListener(\"touchend\",s),e.removeEventListener(\"touchcancel\",s))};e.addEventListener(\"touchstart\",t=>{i.length=0,i.push(...this.getTouchBorderType(t)),this.transforming&&i.push(\"wipe\"),0<i.length&&(e.addEventListener(\"touchmove\",s),e.addEventListener(\"touchend\",s),e.addEventListener(\"touchcancel\",s))},!1)}}const SCROLL_TIME=400,now=window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now,easeInOutCubic=t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,hasSmoothScrolling=testHasSmoothScrolling(),hasSmoothSnapScrolling=testHasSmoothSnapScrolling();class SmoothScroller{constructor(t){this.touchHold=!1,this.scrollType=\"scroll\",this.scrollHold=null,this.element=t,hasSmoothScrolling||(t.addEventListener(\"touchstart\",this.scrollStop,!0),t.addEventListener(\"touchend\",this.scrollContinue,!0),t.addEventListener(\"touchcancel\",this.scrollContinue,!0))}tryToKeep(t){this.touchHold=t}scrollStop(){this.touchHold=!0}scrollContinue(){var t;this.touchHold=!1,null!=(t=this.scrollHold)&&t.call(this)}step(t){if(this.touchHold){if(\"scroll\"===this.scrollType)return t.end();this.scrollHold=()=>{this.step(t)}}var e=now(),e=Math.min((e-t.startTime)/SCROLL_TIME,1),e=easeInOutCubic(e);let i=t.startX+(t.x-t.startX)*e,s=t.startY+(t.y-t.startY)*e;var e=0<t.x-t.startX?1:-1,o=0<t.y-t.startY?1:-1;(1==e&&i>t.x||-1==e&&i<t.x)&&(i=t.x),(1==o&&s>t.y||-1==o&&s<t.y)&&(s=t.y),t.scrollable.scrollLeft=i,t.scrollable.scrollTop=s,t.scrollable.scrollTo(i,s),i!==t.x||s!==t.y?requestAnimationFrame(()=>{this.step(t)}):(t.end(),this.scrollHold=null)}snapTo(t,e){return __awaiter(this,void 0,void 0,function*(){return this.touchHold=!1,this.scrollType=\"snap\",this.smoothScroll(t,e)})}scrollTo(t,e){return __awaiter(this,void 0,void 0,function*(){return this.touchHold=!1,this.scrollType=\"scroll\",this.smoothScroll(t,e)})}switchSmooth(t=!0){this.element.style.pointerEvents=t?\"none\":\"all\",this.element.style.scrollBehavior=t?\"smooth\":\"auto\"}smoothScroll(s,o){if(\"scroll\"===this.scrollType&&!hasSmoothScrolling||\"snap\"===this.scrollType&&!hasSmoothSnapScrolling)return this.smoothScrollByStep(s,o);let r=-1;return new Promise(t=>{var e=()=>this.element.scrollLeft===s&&this.element.scrollTop===o;const i=()=>{clearTimeout(r),r=setTimeout(()=>__awaiter(this,void 0,void 0,function*(){this.element.removeEventListener(\"scroll\",i,!1),yield this.smoothScrollByStep(s,o),t()}),100)};this.element.addEventListener(\"scroll\",i,!1),this.switchSmooth(!0),e()&&(this.switchSmooth(!1),t()),this.element.scrollTo(s,o),i()})}smoothScrollByStep(e,i){return this.switchSmooth(!1),new Promise(t=>{this.step({scrollable:this.element,startTime:now(),startX:this.element.scrollLeft,startY:this.element.scrollTop,x:e,y:i,end:t})})}}index$1=Object.freeze({__proto__:null,SmoothScroller:SmoothScroller});const coveredCSSText=`\n  width: 100%;\n  height: 100%;\n  min-width: 100%;\n  min-height: 100%;\n  max-width: 100%;\n  max-height: 100%;\n`,fullscreenBaseCSSText=`\n  inset: 0px;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  ${coveredCSSText}\n`;class AppletControls{constructor(t){this.available=!0,this.toggleLock=!1,this.advanceDegree=.01,this.applet=t,this.application=t.application,this.appletViewport=this.applet.viewport}get visibility(){return 0!==Math.round(this.controlsView.scrollLeft/this.appletViewport.offsetWidth)}get viewports(){return this.fromViewports||(this.fromViewports=this.application.segue.viewports)}get degree(){return this.controlsView.scrollLeft/this.appletViewport.offsetWidth}attach(){this.controlsView=document.createElement(\"applet-controls\"),this.contentContainer=document.createElement(\"applet-container\"),this.dropbackView=document.createElement(\"applet-dropback\"),this.controlsOverlay=document.createElement(\"applet-controls-overlay\"),this.scroll=new SmoothScroller(this.controlsView),this.bindControlsOverlay()}bindControlsOverlay(){this.controlsOverlay.addEventListener(\"touchstart\",t=>{t.stopPropagation(),t.preventDefault()},!1)}setControlView(){var t=`\n      display: flex;\n      ${coveredCSSText}\n      scroll-snap-align: start;\n      scroll-snap-stop: always;\n    `;const e=document.createElement(\"style\");e.innerHTML=`\n      applet-controls::-webkit-scrollbar {\n        display: none;\n      }\n      applet-controls::scrollbar {\n        display: none;\n      }\n    `,this.contentContainer.style.cssText=t,this.dropbackView.style.cssText=`\n      ${t}\n      background: rgba(0, 0, 0, .3);\n      opacity: 0;\n    `,this.controlsView.style.cssText=`\n      display: flex;\n      ${coveredCSSText}\n      flex-direction: row;\n      overflow: auto;\n      scroll-behavior: auto;\n      scroll-snap-type: both mandatory;\n    `,this.controlsOverlay.style.cssText=`\n      position: fixed;\n      ${fullscreenBaseCSSText}\n      z-index: 9;\n      display: none;\n    `,this.controlsView.appendChild(this.dropbackView),this.controlsView.appendChild(this.contentContainer),this.appletViewport.appendChild(e),this.appletViewport.appendChild(this.controlsView),this.appletViewport.appendChild(this.controlsOverlay)}bindEvent(){const e=this.applet;const i=this.viewports[1],s=this.application.config.swipeTransitionType,o=t=>{e.transforming||!1===this.toggleLock&&t<=this.advanceDegree&&this.application.activityApplet===e&&(this.toggleLock=!0,setTimeout$1(()=>{this.toggleLock=!1},300),this.application.segue.back().then(()=>{this.fromViewports=void 0}))};this.controlsView.addEventListener(\"scroll\",()=>{const t=this.degree;o(t),requestAnimationFrame(()=>{this.dropbackView.style.opacity=\"\"+t,this.application.trigger(\"transitioning\",t,this.application.segue.appletGroup),i&&e.visibility&&!e.transforming&&!this.toggleLock&&(\"slide\"===s?i.style.transform=`translate3d(${30*-t}%, 0, 0)`:i.style.transform=`scale(${1-.03*t})`)})}),this.dropbackView.addEventListener(\"touchstart\",()=>__awaiter(this,void 0,void 0,function*(){yield this.hide(),o(this.degree)})),this.applet.on(\"show\",()=>{this.visibility||this.appearImmediately(),this.prepareForChange()})}prepareForChange(){var t=this.viewports,e=this.application.config.swipeTransitionType;const i=t[1];i&&(i.style.transform=\"slide\"===e?\"translate3d(30%, 0, 0)\":\"scale(0.97)\")}switch(t){return __awaiter(this,void 0,void 0,function*(){return this.controlsOverlay.style.display=\"block\",t?this.disappearImmediately():this.controlsView.scrollLeft<=20&&(this.controlsOverlay.style.display=\"none\"),this.toggleLock=!0,this.scroll.snapTo(t?this.appletViewport.offsetWidth:0,0).then(()=>{this.toggleLock=!1,this.controlsOverlay.style.display=\"none\"})})}disappearImmediately(){this.controlsView.style.scrollBehavior=\"auto\",this.controlsView.scrollLeft=0}appearImmediately(){this.controlsView.style.scrollBehavior=\"auto\",this.controlsView.scrollLeft=this.appletViewport.offsetWidth}show(){return this.switch(!0)}hide(){return this.switch(!1)}disable(){this.freeze(),this.available=!1}enable(){this.available=!0}activate(){!1!==this.available&&(this.dropbackView.style.display=\"block\",this.controlsView.style.overflow=\"auto\",this.controlsView.scrollLeft=this.appletViewport.offsetWidth)}freeze(){this.dropbackView.style.display=\"none\",this.controlsView.style.overflow=\"hidden\"}create(){this.attach(),this.setControlView(),this.bindEvent();var t=this.applet;return(\"applet\"!==t.rel||!1===t.swipeModel||null!=(t=t.mountBehavior)&&t.unusedSwipeModel)&&this.freeze(),this.contentContainer}}class SlideView{constructor(t,e={openSlideViewLeftHolder:!0,slideViewSnapType:\"x\",slideViewGridRepeat:0}){this.scrolling=!1,this.switching=!1,this.distance=0,this.activeId=\"\",this.hasSmoothSnapScrolling=testHasSmoothSnapScrolling(),this.scrollCancelTimeoutId=-1,this.scrollCycleTimeout=90,this.snapType=\"x\";var i=t.config.defaultSlideViewApplets,s=t.viewport;i&&s&&(this.applet=t,this.application=t.application,this.slideViewApplets=i,this.options=e,this.snapType=e.slideViewSnapType,this.createSlideView(i,s),this.bindScroll(),this.bindSlideViewHolder(),this.scroller=new SmoothScroller(this.slideView))}get index(){var t=this.slideView;return(Math.round(t.scrollLeft/t.offsetWidth)+1)*(Math.round(t.scrollTop/t.offsetHeight)+1)-1}openSnap(){this.slideViewOverlay.style.display=\"none\"}closeSnap(){this.slideViewOverlay.style.display=\"block\"}bindSlideViewHolder(){var t=t=>{t.stopPropagation(),this.closeSnap(),this.slideView.style.overflowX=\"hidden\"},e=()=>{this.openSnap(),this.slideView.style.overflowX=\"auto\"};this.slideViewHolder.addEventListener(\"touchstart\",t,{passive:!1}),this.slideViewHolder.addEventListener(\"touchmove\",t,{passive:!1}),this.slideViewHolder.addEventListener(\"touchcancel\",e),this.slideViewHolder.addEventListener(\"touchend\",e)}bindScroll(){const i=this.slideView;i.addEventListener(\"scroll\",()=>{this.switching||(this.scrolling||(this.freezeAll(),this.scrolling=!0),clearTimeout(this.scrollCancelTimeoutId),this.scrollCancelTimeoutId=setTimeout$1(()=>{var t,e;this.scrolling=!1,this.activate(this.index),this.hasSmoothSnapScrolling||(t=Math.round(i.scrollLeft/i.offsetWidth),e=Math.round(i.scrollTop/i.offsetHeight),this.scroller.scrollTo(t*this.slideView.offsetWidth,e*i.offsetHeight))},this.scrollCycleTimeout))})}getAppletIndex(t){if(\"number\"==typeof t)return t;let e=0;for(const i of this.slideViewApplets){if(i.id===t)return e;e++}return 0}to(n,l=!0){return __awaiter(this,void 0,void 0,function*(){var t,e,i=this.getAppletIndex(n);const s=this.slideView;let o=0,r=0;return\"x\"===this.options.slideViewSnapType?(e=(t=s.offsetWidth)*this.slideViewApplets.length,o=Math.min(Math.max(i*t,0),e)):(e=(t=s.offsetHeight)*this.slideViewApplets.length,r=Math.min(Math.max(i*t,0),e)),this.index!==i&&(yield this.freeze(this.index)),!1===l?(s.style.scrollBehavior=\"auto\",s.scrollLeft=o,s.scrollTop=r,s.style.scrollBehavior=\"smooth\",Promise.resolve()):(this.switching=!0,this.closeSnap(),this.scroller.snapTo(o,r).then(()=>{this.openSnap(),this.switching=!1,this.activate(this.index)}))})}freeze(e){return __awaiter(this,void 0,void 0,function*(){var t=(this.slideViewApplets[e]||{})[\"id\"];return t?this.application.get(t).then(t=>{t.hide(),this.applet.trigger(\"slideOut\",t)}):Promise.resolve()})}activate(t){return __awaiter(this,void 0,void 0,function*(){const e=(this.slideViewApplets[t]||{})[\"id\"];return e&&this.activeId!==e?this.application.get(e).then(t=>__awaiter(this,void 0,void 0,function*(){return t.show(),this.applet.trigger(\"slideEnter\",t),this.activeId=e,t.visibility?Promise.resolve():t.build()})):Promise.resolve()})}freezeAll(){var e=this.slideViewApplets.length;for(let t=0;t<=e;t++)this.freeze(t)}resetViewportStyle(t){t.style.cssText=`\n      display: flex;\n      ${coveredCSSText}\n      scroll-snap-align: start;\n      scroll-snap-stop: always;\n      transform: translate3d(0, 0, 0);\n    `}createSlideView(t,e){const r=document.createElement(\"slideView-viewport\"),i=document.createElement(\"style\"),n=document.createElement(\"slideView-holder\"),s=document.createElement(\"slideView-overlay\");var o=this.snapType,l=this.options.slideViewGridRepeat;i.innerHTML=`\n      slideView-viewport::-webkit-scrollbar {\n        display: none;\n      }\n      slideView-viewport::scrollbar {\n        display: none;\n      }\n    `,r.style.cssText=`\n      ${\"y\"===o?\"overflow-y: auto; overflow-x: hidden;\":\"x\"===o?\"display: flex; overflow-x: auto; overflow-y: hidden;\":`\n        display: grid;\n        overflow: auto;\n        grid-template-columns: repeat(${l}, 100%);\n        grid-template-rows: repeat(${l}, 100%);\n      `}\n      position: absolute;\n      ${fullscreenBaseCSSText}\n      scroll-behavior: ${this.hasSmoothSnapScrolling?\"smooth\":\"auto\"};\n      scroll-snap-type: ${o} mandatory;\n    `,n.style.cssText=`\n      position: absolute;\n      top: 15%;\n      bottom: 15%;\n      left: 0;\n      width: 15px;\n      z-index: 5;\n    `,s.style.cssText=`\n      position: fixed;\n      ${fullscreenBaseCSSText}\n      z-index: 7;\n      display: none;\n    `,s.addEventListener(\"touchstart\",t=>{t.stopPropagation(),t.preventDefault()}),t.forEach((t,e)=>{const{id:i,activate:s}=t,o=document.createElement(\"applet-viewport\");o.id=\"applet-viewport-\"+i,this.resetViewportStyle(o),0===e&&(this.activeId=i,this.options.openSlideViewLeftHolder&&o.appendChild(n)),r.appendChild(o),this.application.get(i).then(t=>{t.attach(o,this.applet,{agentSegue:()=>__awaiter(this,void 0,void 0,function*(){return this.application.to(this.applet.id).then(()=>{var t;null!=(t=this.applet.slide)&&t.to(i)})}),unusedSwipeModel:!0}),\"instant\"===s||0===e?(t.build(),0===e&&t.show()):\"lazy\"===s&&requestIdleCallback(()=>{t.build()},{timeout:3e3})})}),e.appendChild(i),e.appendChild(r),e.appendChild(s),this.slideView=r,this.slideViewHolder=n,this.slideViewOverlay=s}}const baseStyle=`\n  applet-viewport {\n    background: transparent !important;\n  }\n  modality-container {\n    display: flex;\n    height: 100%;\n    overflow-y: scroll !important;\n    scroll-behavior: smooth;\n    scroll-snap-type: y mandatory;\n    flex-direction: column;\n  }\n  modality-container::-webkit-scrollbar {\n    display: none;\n  }\n  modality-container::scrollbar {\n    display: none;\n  }\n  modality-placeholder {\n    position: relative;\n    display: block;\n    ${coveredCSSText}\n    scroll-snap-align: start;\n    scroll-snap-stop: always;\n    box-sizing: content-box;\n  }\n  modality-handle {\n    display: block;\n    position: absolute;\n    bottom: -12px;\n    height: 12px;\n    width: 100%;\n    z-index: 1;\n  }\n  modality-handle::before {\n    content: ' ';\n    display: block;\n    width: 30px;\n    height: 4px;\n    margin: 4px auto;\n    border-radius: 2px;\n    background: #777;\n    opacity: .5;\n  }\n  modality-handle:hover::before {\n    opacity: 1;\n  }\n  blocked-holder {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 40px;\n    height: 100%;\n    z-index: 5;\n    overflow-y: hidden;\n    overflow-x: scroll;\n    overscroll-behavior-y: none;\n    display: flex;\n    flex-flow: row-reverse;\n  }\n  blocked-holder::-webkit-scrollbar {\n    display: none;\n  }\n  blocked-holder::scrollbar {\n    display: none;\n  }\n  blocked-holder::before {\n    content: ' ';\n    display: flex;\n    min-width: 100vw;\n    height: 100%;\n  }\n`;class Modality{constructor(t){this.switching=!1,this.scrollCancelTimeoutId=-1,this.advanceDegree=.01,this.applet=t,this.application=this.applet.application,this.appletViewport=this.applet.viewport,this.modalityContainer=document.createElement(\"modality-container\"),this.scroller=new SmoothScroller(this.modalityContainer),this.buildModalityOverlay(),null!=(t=t.viewport)&&t.appendChild(this.modalityContainer)}get viewports(){return this.fromViewports||(this.fromViewports=this.application.segue.viewports)}get degree(){return this.modalityContainer.scrollTop/this.applet.view.offsetHeight}get visibility(){return!(this.degree<=.1)}switchSheets(){return __awaiter(this,void 0,void 0,function*(){return this.application.activityApplet!==this.applet?Promise.resolve():this.degree<=.5?this.hide():this.show()})}switchOverlay(t=!1){this.modalityOverlay.style.display=t?\"block\":\"none\"}snapEnd(t=!0){const e=this.modalityContainer;this.switchOverlay(!1),t||(e.style.scrollBehavior=\"smooth\",e.style.scrollSnapType=\"y mandatory\")}snapStart(t=!0){const e=this.modalityContainer;this.switchOverlay(!0),t||(e.style.scrollBehavior=\"auto\",e.style.scrollSnapType=\"none\")}show(){return __awaiter(this,void 0,void 0,function*(){this.switching=!0,this.snapStart();var t=this.contentContainer.offsetHeight;return this.scroller.snapTo(0,t).then(()=>{this.switching=!1,this.snapEnd()})})}hide(){return __awaiter(this,void 0,void 0,function*(){return this.switching=!0,this.snapStart(),this.scroller.snapTo(0,0).then(()=>__awaiter(this,void 0,void 0,function*(){this.switching=!1,this.snapEnd(),this.modalityContainer.scrollTop=0,this.application.activityApplet===this.applet&&(yield this.application.segue.back(),this.fromViewports=void 0)}))})}bindBlockedHolder(t){let e=0,i=!1,s=!1;const o=this.modalityContainer,r=o.offsetWidth/o.offsetHeight,n=()=>{this.switchSheets().then(()=>{this.snapEnd(!1),s=!0,i=!1,t.scrollLeft=0,this.switching=!1})};t.addEventListener(\"scroll\",()=>{this.switching||(s?s=!1:(this.snapStart(!1),!1===i&&(e=o.scrollTop,i=!0),o.scrollTop=e+t.scrollLeft/r,clearTimeout(this.scrollCancelTimeoutId),this.scrollCancelTimeoutId=setTimeout$1(()=>{n()},100)))})}buildModalityOverlay(){const t=document.createElement(\"modality-overlay\");t.style.cssText=`\n      position: fixed;\n      ${fullscreenBaseCSSText}\n      z-index: 9;\n      display: none;\n    `,t.addEventListener(\"touchstart\",t=>{t.stopPropagation(),t.preventDefault()},!1),this.modalityOverlay=t}create(){const t=this.appletViewport,e=this.viewports[1],i=this.modalityContainer;var s=i.firstChild;const o=document.createElement(\"modality-placeholder\");var r=document.createElement(\"modality-handle\");const n=document.createElement(\"blocked-holder\"),l=document.createElement(\"applet-container\"),a=document.createElement(\"style\");var h=this.applet.config.sheetsBottomOptions,c=(null==h?void 0:h.blockedHolderWidth)||\"40px\",p=(null==h?void 0:h.top)||\"60px\";const d=null!=(u=null==h?void 0:h.maskOpacity)?u:.3;var u=null==h?void 0:h.maskClosable;a.innerHTML=baseStyle,l.style.cssText=`\n      border: 0px;\n      outline: 0px;\n      min-width: 100%;\n      min-height: calc(100% - ${p});\n      max-height: calc(100% - ${p});\n      border-top-left-radius: 16px;\n      border-top-right-radius: 16px;\n      scroll-snap-align: start;\n      scroll-snap-stop: always;\n      overflow: hidden;\n    `,t.appendChild(a),t.appendChild(n),t.appendChild(this.modalityOverlay),o.appendChild(r),n.style.width=\"string\"==typeof c?c:c+\"px\",s?i.insertBefore(o,s):i.appendChild(o),u&&o.addEventListener(\"click\",()=>{this.hide()});return this.bindBlockedHolder(n),i.addEventListener(\"scroll\",()=>{const t=this.degree;this.switching||(t<=this.advanceDegree&&this.hide(),requestAnimationFrame(()=>{1<t?i.style.background=`rgba(0, 0, 0, ${d+3*(t-1)})`:(i.style.background=`rgba(0, 0, 0, ${d*t})`,e&&!this.applet.transforming&&this.application.activityApplet===this.applet&&(e.style.transform=`scale(${1-Math.max(.03*(t-this.advanceDegree-.1),0)})`))}))},!1),null!=h&&h.alwaysPopUp&&(this.applet.on(\"willShow\",()=>{!1===this.switching&&this.show()}),this.applet.on(\"willHide\",()=>{!1===this.switching&&this.hide()})),i.appendChild(l),this.contentContainer=l}}windowOpen=(t,h)=>{const n=t.open;t.document.addEventListener(\"click\",t=>{const a=(t=t instanceof CustomEvent&&t.detail instanceof Event?t.detail:t).path||(null==(s=t.composedPath)?void 0:s.call(t))||[],e=(a.splice(-3),(()=>{var t;for(const e of a){const i=null==(t=e.getAttribute)?void 0:t.call(e,\"to-applet\");if(i){const s=e.getAttribute(\"clone-as\")||void 0,[o,r]=i.split(\"?\");if(s){const n=e.getAttribute(\"title\")||\"\",l=e.getAttribute(\"preset-effect\")||void 0;return void h.get(o).then(t=>{t=t.model;Object.assign(t.config,{title:n,animation:l,level:h.activityLevel}),h.add(s,t),h.to(s,\"?\"+r)})}return void h.to(o,\"?\"+r)}if(\"A\"===e.tagName)return e}})());if(!e)return!1;const i=e.href||String(e);if(i){if(\"_parent\"===e.target||\"_top\"===e.target)return n(i),!1;var s=e.getAttribute(\"title\")||\"\",o=e.getAttribute(\"preset-effect\")||void 0,r=e.getAttribute(\"clone-as\")||void 0;t.stopPropagation(),t.preventDefault(),h.pushWindow(i,s,o,r,t).catch(()=>{n(i)})}return!1},!0),t.open=(t,e,i)=>\"string\"!=typeof t||e&&0!==e.indexOf(\"_\")||i?n(t,e,i):(h.pushWindow(t,\"\").catch(()=>{n(t)}),null)};const getTimerHandler=(s,o,t)=>(...e)=>{const i=()=>{if(\"function\"==typeof s)s(...e);else if(\"string\"==typeof s){const t=new o.Function(\"return \"+s);t(...e)}};\"visible\"===o.appletVisibilityState?i():t&&o.addEventListener(\"message\",t=>{\"applet-show\"===(null==(t=t.data)?void 0:t.type)&&i()})},smartSetTimeout=s=>{const o=s.setTimeout;s.backgroundSetTimeout=o,s.setTimeout=(t,e,...i)=>{t=getTimerHandler(t,s,!0);return o(t,e,...i)}},smartSetInterval=s=>{const o=s.setInterval;s.backgroundSetInterval=o,s.setInterval=(t,e,...i)=>{t=getTimerHandler(t,s);return o(t,e,...i)}};tapHighlight=(t,i)=>{const s={element:null,oldStyle:\"\"};const o=()=>{var t;s.element&&(null!=(t=null==(t=s.element)?void 0:t.style)&&t.filter&&(s.element.style.filter=s.oldStyle),s.element=null,s.oldStyle=\"\")};t.document.addEventListener(\"touchstart\",r=>{const n=i?\"string\"==typeof i?i.split(\" \"):i:null,l=r.path||r.composedPath()||[],e=(l.splice(-3),(()=>{var t,e;for(const s of l){if(\"A\"===s.tagName)return s;if(null!=(t=s.children)&&t.length&&n){for(const o of n){if(0===o.indexOf(\"#\")&&\"#\"+s.id===o)return s;if(0===o.indexOf(\".\")&&s.classList.length&&Object.values(s.classList).includes(o.slice(1)))return s;if(null!=(e=s.getAttribute)&&e.call(s,o))return s}return null}}var i=(null!=(i=null==(i=l[0])?void 0:i.children)&&i.length?l[0]:l[1])||r.target;return[\"DIV\",\"A\",\"IMG\"].includes(i.tagName)?i:null})());if(e){if(s.element===e)return o();s.element=e,s.oldStyle=e.style.filter,setTimeout$1(()=>{if(s.element===e){if(9e4<e.offsetWidth*e.offsetHeight)return;e.style.filter=s.oldStyle+\" brightness(.8)\",e.setAttribute(\"tap-highlight\",\"true\")}const t=()=>{setTimeout$1(()=>{s.element!==e?(e.style.filter=s.oldStyle,e.removeAttribute(\"tap-highlight\")):t()},600)};t()},60)}}),t.document.addEventListener(\"touchmove\",o),t.document.addEventListener(\"touchcancel\",o),t.document.addEventListener(\"touchend\",()=>{setTimeout$1(()=>{o()},600)})},cssVar=(t,e)=>{const{id:i,application:s}=e,o=s.config.globalCSSVariables;e=\"function\"==typeof o?o():o;const r=t.document.documentElement.style,n=t=>{for(const e in t)r.setProperty(e,t[e])},l=t=>{var e;n({\"--application-safe-area-top\":null!=(e=t[0])?e:t,\"--application-safe-area-right\":null!=(e=t[1])?e:t,\"--application-safe-area-bottom\":null!=(e=null!=(e=t[2])?e:t[0])?e:t,\"--application-safe-area-left\":null!=(e=null!=(e=t[3])?e:t[1])?e:t})},a=s.config.safeArea;t=\"function\"==typeof a?a():a;t&&l(t),e&&n(e);s.on(\"safeAreaChange\",t=>{l(t)},i),s.on(\"globalCSSVariablesChange\",t=>{n(t)},i)},inject=(t,e)=>{var i;const{config:s,application:o}=e;var r=s.apply||[],n=s.applyOptions||{};if(Array.isArray(r))for(const l of r)switch(l){case\"link-new-viewport\":windowOpen(t,o);break;case\"smart-setTimeout\":\"applet\"===e.rel&&smartSetTimeout(t);break;case\"smart-setInterval\":\"applet\"===e.rel&&smartSetInterval(t);break;case\"tap-highlight\":tapHighlight(t,null!=(i=null==(i=n[l])?void 0:i.selector)?i:\"use-tap-highlight\")}if(\"function\"==typeof s.inject)try{s.inject(t,e)}catch(t){console.error(\"config > inject:\",t)}if(e.components)for(const a of e.components)t.customElements.define(\"code-highlight\",a(t));cssVar(t,e)};class AppletView extends AppletEventTarget{setShadowView(t,e){[\"frameworks\",\"system\"].includes(this.rel)?(t.style.cssText=`\n        position: fixed;\n        width: 100%;\n        z-index: 7;\n        pointer-events: none;\n      `,e.style.pointerEvents=\"all\"):(t.style.cssText=`\n        ${coveredCSSText}\n        overflow: auto;\n      `,e.style.cssText=`\n        min-width: 100%;\n        min-height: 100%;\n      `)}createControlsView(){var t;return this.controls=new AppletControls(this.self),null==(t=this.controls)?void 0:t.create()}getContentContainer(){return this.isModality?this.createModality():this.useControls?this.createControlsView():this.viewport}buildSlideView(){return new Promise((t,e)=>{if(this.slide)return t();if(!this.config.defaultSlideViewApplets)return e();e={openSlideViewLeftHolder:null==(e=this.config.openSlideViewLeftHolder)||e,slideViewSnapType:null!=(e=this.config.slideViewSnapType)?e:\"x\"};this.slide=new SlideView(this.self,e),t()})}buildContentImage(){var t;if(!this.img){const e=this.viewport,i=document.createElement(\"applet-img\");!1===this.unusedShadowDom&&null!=(t=i.attachShadow)&&t.call(i,{mode:\"open\"}),e.appendChild(i),i.style.cssText=`\n      position: absolute;\n      ${fullscreenBaseCSSText}\n      z-index: 2;\n      pointer-events: none;\n      background: ${this.color};\n      opacity: 1;\n      transition: opacity .3s;\n    `,this.img=i}}getPresetView(){var t;return null==(t=this.application.presetAppletsView)?void 0:t[this.id]}createContentView(){var t;const e=document.createElement(\"define-applet\");return e.setAttribute(\"applet-id\",this.id),e.slot=\"applet-\"+this.id,null!=(t=this.appletsSpace)&&t.appendChild(e),e}getContentView(){var t;const e=null!=(t=this.getPresetView())?t:this.createContentView();return\"applet\"===this.rel&&(e.style.cssText=`\n        position: relative;\n        display: flex;\n        ${coveredCSSText}\n        overflow: auto;\n        background: ${this.color}\n      `),e}buildContentStructure(){this.contentView||(this.contentView=this.getContentView(),this.contentSlot=this.contentView.getViewSlot(),this.getContentContainer().appendChild(this.contentSlot))}createShadowView(){var t,e;if(!this.config.render)return Promise.resolve(this.contentView);var i=document.createElement(\"applet-shadow\"),s=document.createElement(\"applet-shadow-inner\");!1===this.unusedShadowDom&&null!=(t=i.attachShadow)&&t.call(i,{mode:\"open\"});const o=i.shadowRoot||i;return o.appendChild(s),null!=(e=(t=this.config).render)&&e.call(t,s),null!=(e=this.contentView)&&e.appendChild(i),this.setShadowView(i,s),Promise.resolve(i)}createSandbox(t,e){return __awaiter(this,void 0,void 0,function*(){return this.sandbox=new Sandbox(t,null==e?void 0:e.join(\" \")),this.decorateSandbox(this.sandbox.sandbox),yield this.loadContentView(),this.sandbox.sandbox})}createPortal(e){return __awaiter(this,void 0,void 0,function*(){const t=document.createElement(\"portal\");return t.src=e,this.decorateSandbox(t),yield this.loadContentView(),t})}createModality(){return this.modality=new Modality(this.self),this.modality.create()}loadContentView(){return __awaiter(this,void 0,void 0,function*(){this.waitingForResponse().then(()=>{Promise.resolve()}).catch(()=>{Promise.reject()}),this.status.refreshing?setTimeout$1(()=>{Promise.resolve()},2e3):Promise.resolve()})}loadSourceContent(){return __awaiter(this,void 0,void 0,function*(){const t=this.contentView;return\"portal\"===this.viewType?(null!==t&&void 0!==t&&t.appendChild(this.view),Promise.resolve()):this.sandbox?(this.uri?(this.sandbox.onload=()=>Promise.resolve(),this.sandbox.onerror=()=>Promise.reject(),this.sandbox.enter(t)):(this.sandbox.append(yield this.source,t),this.sandbox.onunload=this.loadSourceContent.bind(this),Promise.resolve()),void this.injectIntoContentWindow()):Promise.resolve()})}injectIntoContentWindow(){if(this.sameOrigin){const t=this.contentWindow;!t||t.__LATH_APPLICATION_AVAILABILITY__||(inject(t,this),t.__LATH_APPLICATION_AVAILABILITY__=!0)}}loadMirrorImage(){this.status.refreshing||this.config.useMirroring&&!this.img&&(this.buildContentImage(),this.setImageContent(this.mirroringString||\"\"))}setImageContent(t){var e=this.img;const i=e.shadowRoot||e;\"string\"==typeof t?i.innerHTML=t:i.appendChild(t)}removeMirrorImage(){if(this.img&&!this.status.refreshing){const e=this.img;setTimeout$1(()=>{var t;e.style.opacity=\"0\",null!=(t=e.parentNode)&&t.removeChild(e),this.img=null},300)}}decorateSandbox(t){t.style.cssText=`\n      ${coveredCSSText}\n      border: 0;\n      outline: 0;\n    `}waitingForResponse(){return new Promise((e,i)=>{this.loadSourceContent().then(()=>{var t;this.status.prerender=!0,null!=(t=this.events)&&t.load(this.self),this.trigger(\"load\"),this.attachEvent(),setTimeout$1(()=>{e()},0)}).catch(()=>{var t;null!=(t=this.events)&&t.loadError(this.self),this.trigger(\"loadError\"),i()})})}createView(){return\"shadow\"===this.viewType?this.createShadowView():\"portal\"===this.viewType?this.createPortal(this.uri):this.createSandbox(this.uri,this.config.sandbox)}buildMainView(){return __awaiter(this,void 0,void 0,function*(){return this.cancelGuard(),this.expired?this.refresh():(this.view||(this.createTime=Date.now(),this.loadMirrorImage(),this.buildContentStructure(),this.injectIntoContentWindow(),this.view=yield this.createView(),this.removeMirrorImage()),Promise.resolve())})}build(){return __awaiter(this,void 0,void 0,function*(){if(this.config.defaultSlideViewApplets){if(\"frameworks\"!==this.id)return this.buildSlideView();this.buildSlideView()}return yield this.buildMainView(),Promise.resolve()})}refresh(){var s;return __awaiter(this,void 0,void 0,function*(){if(this.status.refreshing||!this.view)return Promise.reject();if(this.status.refreshing=!0,this.config.refresh instanceof Promise)return yield this.config.refresh(),this.status.refreshing=!1,void this.trigger(\"refreshing\");if(\"applet\"!==this.rel&&this.noSource)this.status.refreshing=!0;else{const e=this.contentView,i=this.contentSlot;var t=this.view;e.setAttribute(\"applet-id\",this.id+\"-obsolete\"),i.name=`applet-${this.id}-obsolete`,this.application.delPresetAppletsView(this.id),this.contentView=void 0,\"applet\"===this.rel&&this.noSource&&(this.config.source={src:location.href}),this.contentView=this.getContentView(),this.view=yield this.createView(),i.name=\"applet-\"+this.id,this.status.refreshing=!1,this.trigger(\"refreshing\"),\"IFRAME\"===t.tagName&&this.unload(t),null!=(s=t.parentNode)&&s.removeChild(t),null!=(s=e.parentElement)&&s.removeChild(e)}})}captureShot(){return __awaiter(this,void 0,void 0,function*(){return import(\"./index-f6eda823.js\").then(t=>t.capture(this.self))})}}class Applet extends AppletView{constructor(t,e,i){super(t,e,i),this.events.boot(this.self)}}class SegueBase{constructor(t,e){this.id=\"\",this.prevId=\"\",this.param=\"\",this.relativeViewport=document.createElement(\"relative-windows\"),this.absoluteViewport=document.createElement(\"absolute-windows\"),this.fixedViewport=document.createElement(\"fixed-windows\"),this.applicationViewport=document.createElement(\"application-windows\"),this.target=this.relativeViewport,this.application=t,this.root=e.root||document.body,this.zIndex=e.zIndex||Number.MAX_SAFE_INTEGER,this.setupViewport()}setupViewport(){this.relativeViewport.id=\"relative-viewport\",this.absoluteViewport.id=\"absolute-viewport\",this.resetViewport(),this.fixedViewport.id=\"fixed-viewport\",this.fixedViewport.style.cssText=`\n      width: 100%;\n      height: 0;\n      max-height: 0;\n      overflow: visible;\n      contain: strict;\n      z-index: 3;\n      overflow: hidden;\n    `,this.applicationViewport.style.cssText=`\n      position: fixed;\n      ${fullscreenBaseCSSText}\n      overflow: hidden;\n      contain: strict;\n      z-index: ${this.zIndex};\n    `,this.applicationViewport.appendChild(this.relativeViewport),this.applicationViewport.appendChild(this.absoluteViewport),this.applicationViewport.appendChild(this.fixedViewport),this.root.appendChild(this.applicationViewport)}resetViewport(t){var e=`\n      position: fixed;\n      ${fullscreenBaseCSSText}\n      overflow: hidden;\n      contain: strict;\n    `;this.relativeViewport.style.cssText=`\n      ${e}\n      z-index: 1;\n      ${t?\"transform: translate3d(0, 0, 0);\":\"\"}\n    `,this.absoluteViewport.style.cssText=`\n      ${e}\n      z-index: 2;\n      ${t?\"\":\"transform: translate(200%, 200%);\"}\n    `}}class SegueHistory extends SegueBase{constructor(t,e){super(t,e),this.prevHistoryStep=0,this.historyIndex=history.length,this.historyShadowLength=history.length,this.oneHistoryIndex=0,this.historyDirection=0,this.backoutCount=0,this.sessionHistory=[],this.silentObserver=void 0,this.historyBreakCallback=null,this.bindHistoryState()}get fromHistoryForward(){return-1===this.prevHistoryStep&&1===this.historyDirection}get fromHistoryBack(){return-1===this.prevHistoryStep&&-1===this.historyDirection}get isOverscrollHistoryNavigation(){if(!this.fromHistoryBack&&!this.fromHistoryForward)return!1;const t=this.application.overscrollHistoryNavigation;var e=-1!==t.type.indexOf(\"wipe\")?400:300;return!(Date.now()-t.moment>e)}bindHistoryState(){addEventListener(\"popstate\",t=>{this.popstate(t.state)},!1),addEventListener(\"hashchange\",()=>{this.observeSilent()},!1)}observeSilent(i=1e3){if(!this.options.oneHistory){clearInterval(this.silentObserver);let e=0;this.silentObserver=setInterval(()=>__awaiter(this,void 0,void 0,function*(){++e>=i&&clearInterval(this.silentObserver);var t=history.state||this.application.route,t=decodeURIComponent(t.id);t&&decodeURIComponent(t)!==this.id&&(yield this.popstate(history.state).catch(()=>{clearInterval(this.silentObserver)}))}),500)}}popstate(e){return __awaiter(this,void 0,void 0,function*(){var{historyIndex:t=this.historyShadowLength}=null!=e?e:{};t===this.historyIndex?this.historyDirection=0:t>this.historyIndex?this.historyDirection=1:this.historyDirection=-1,null===e?(this.historyDirection=-1,this.historyIndex=this.historyIndex-1):this.historyIndex=t,yield this.toHistory(e),this.observeSilent(20)})}back(){if(!this.options.oneHistory)return history.back(),this.observeSilent(20),Promise.resolve();var t=this.sessionHistory[this.oneHistoryIndex-1];return t?(this.historyDirection=-1,this.oneHistoryIndex=this.oneHistoryIndex-1,this.toHistory(t)):Promise.reject()}forward(){if(!this.options.oneHistory)return history.forward(),this.observeSilent(20),Promise.resolve();var t=this.sessionHistory[this.oneHistoryIndex+1];return t?(this.historyDirection=1,this.oneHistoryIndex=this.oneHistoryIndex+1,this.toHistory(t)):Promise.reject()}pushState(t=\"\",e=\"\",i=location.search){t=encodeURIComponent(t);var s=this.historyShadowLength,o={id:t,title:e,time:Date.now(),search:i,historyIndex:s};if(this.observeSilent(20),this.options.oneHistory)return 0!==this.sessionHistory.length&&(this.sessionHistory.length=this.oneHistoryIndex+1),this.sessionHistory.push(o),this.oneHistoryIndex=this.sessionHistory.length-1,this.replaceState(t,e,i);history.pushState(o,e,location.pathname+i+\"#\"+t),this.historyIndex=this.historyShadowLength=s+1,this.historyDirection=1}replaceState(t=\"\",e=\"\",i=location.search){t=encodeURIComponent(t);var s=this.historyShadowLength,o={id:t,title:e,time:Date.now(),search:i,historyIndex:s};history.replaceState(o,e,location.pathname+i+\"#\"+t),this.historyIndex=s,this.historyDirection=0}requestRegisterHistory(t=\"\",e=\"\",i=location.search){-1!==this.prevHistoryStep&&\"portal\"!==this.applet.viewType?this.pushState(t,e,i):this.options.oneHistory&&-1===this.prevHistoryStep&&this.replaceState(t,e,i)}toHistory(n){var l,a,h;return __awaiter(this,void 0,void 0,function*(){var t=this.options,e=n||history.state||this.application.route,i=decodeURIComponent(e.id)||t.index||\"frameworks\",e=e.search,s=yield this.application.get(i);if(s){if(this.checkSingleLock())return this.backoutCount++,void(!0===(null==(l=(a=this.options).holdBack)?void 0:l.call(a,this.backoutCount))&&(this.pushState(i,s.config.title,e),this.application.trigger(\"exit\",{backoutCount:this.backoutCount})));this.backoutCount=0;var o=null!=(l=s.config.level)?l:0,r=null!=(a=this.applet.config.level)?a:0;if(t.singleFlow&&0!==s.config.level&&r<=o)return this.back();this.isOverscrollHistoryNavigation&&null!=(h=this.historyBreakCallback)&&h.call(this),this.application.segue.to(i,e,-1),this.application.trigger(\"back\",s)}})}checkSingleLock(){return!(!this.options.singleLock||0!==this.applet.config.level||-1!==this.historyDirection)}bindHistoryBreak(t){this.historyBreakCallback=t}}class SegueState extends SegueHistory{constructor(){super(...arguments),this.hasAnimation=!1,this.hasSuperSwitched=!1,this.isNativeAnimation=!1}get isEntryApplet(){return!this.prevApplet||\"applet\"!==this.prevApplet.rel}get immovable(){return this.hasSuperSwitched||!this.hasAnimation||this.fromHistoryBack}get backsetState(){var t;return 1===this.appletGroup.length?-1:this.applet.level>=(null!=(t=null==(t=this.prevApplet)?void 0:t.level)?t:0)?0:1}get countercurrent(){return 1===this.backsetState||this.fromHistoryBack}get viewports(){var t;return this.hasSuperSwitched?[this.applet.config.free?this.absoluteViewport:this.relativeViewport,null!=(t=this.prevApplet)&&t.config.free?this.absoluteViewport:this.relativeViewport]:[this.applet.viewport,null==(t=this.prevApplet)?void 0:t.viewport]}}class SegueAnimation extends SegueState{checkAnimationNamed(){return!!this.getAnimationNames()}checkNativeAnimation(){var t=this.getAnimationNames();return\"string\"==typeof t&&[\"slide\",\"slide-left\",\"sheets-bottom\"].includes(t)}getAnimationNames(){if(this.options.index&&this.applet.isFullscreen&&this.isEntryApplet)return!1;if(this.isOverscrollHistoryNavigation)return!1;var t=null!=(t=null==(t=this[this.fromHistoryBack?\"prevApplet\":\"applet\"])?void 0:t.config.animation)?t:\"slide\";return!0===t||\"inherit\"===t?this.options.defaultAnimation:t}getAnimationGroup(){return __awaiter(this,void 0,void 0,function*(){let t;var e=this.getAnimationNames();if(\"string\"==typeof e)t=yield this.getAnimationByName(e);else if(\"function\"==typeof(null==e?void 0:e[0]))return e;if(\"function\"==typeof(null===t||void 0===t?void 0:t[0]))return t})}getAnimationOneSide(e){return __awaiter(this,void 0,void 0,function*(){var t=yield this.getAnimationGroup();if(0<=e)switch(typeof t){case\"function\":return t;case\"object\":return t[2===t.length?e:0];default:return}})}getAnimationByName(t){return __awaiter(this,void 0,void 0,function*(){switch(t){case\"sheets-bottom\":return new Promise((e,t)=>{import(\"./sheets-bottom-79cb4bbc.js\").then(t=>{t=t.default;e([t,t])}).catch(t)});case\"flip\":return new Promise((i,t)=>{import(\"./flip-360baa22.js\").then(t=>{const e=t.default;i([e(4),e(4)])}).catch(t)});case\"flip-left\":return new Promise((i,t)=>{import(\"./flip-360baa22.js\").then(t=>{const e=t.default;i([e(3),e(3)])}).catch(t)});case\"flip-down\":return new Promise((i,t)=>{import(\"./flip-360baa22.js\").then(t=>{const e=t.default;i([e(2),e(2)])}).catch(t)});case\"flip-right\":return new Promise((i,t)=>{import(\"./flip-360baa22.js\").then(t=>{const e=t.default;i([e(1),e(1)])}).catch(t)});case\"flip-up\":return new Promise((i,t)=>{import(\"./flip-360baa22.js\").then(t=>{const e=t.default;i([e(0),e(0)])}).catch(t)});case\"fade\":return new Promise((i,t)=>{import(\"./fade-c95cb59c.js\").then(t=>{const e=t.default;i([e(1),e(0)])}).catch(t)});case\"zoom\":return new Promise((i,t)=>{import(\"./zoom-749ece9d.js\").then(t=>{const e=t.default;i([e(1),e(0)])}).catch(t)});case\"slide-right\":return new Promise((i,t)=>{import(\"./slide-693df310.js\").then(t=>{const e=t.default;i([e(3),e(1)])}).catch(t)});case\"slide-up\":return new Promise((i,t)=>{import(\"./slide-693df310.js\").then(t=>{const e=t.default;i([e(2),e(0)])}).catch(t)});case\"slide-down\":return new Promise((i,t)=>{import(\"./slide-693df310.js\").then(t=>{const e=t.default;i([e(0),e(2)])}).catch(t)});default:return new Promise((i,t)=>{(this.options.swipeModel?import(\"./slide-native-bcf3964b.js\").then(t=>{t=t.default;i([t,t])}):import(\"./slide-693df310.js\").then(t=>{const e=t.default;i([e(1),e(3)])})).catch(t)})}})}}class SegueSwitch extends SegueAnimation{constructor(t,e){super(t,e),this.windowSet=[],this.promiseQueue=[],this.promiseParamQueue=[],this.delayDynamicImport()}delayDynamicImport(){requestIdleCallback(()=>{import(\"./index-339a1808.js\").catch})}attachAppletViewport(t){if(!t.viewport){const e=document.createElement(t.rel+\"-viewport\");e.setAttribute(\"name\",t.id),t.attach(e),this.getSuperViewport(t).appendChild(e)}}resetAppletViewport(t,e=this.immovable){const i=t.viewport;var s=[\"frameworks\",\"system\"].includes(t.rel);i.style.cssText=\"\",s||(i.style.cssText=`\n      position: absolute;\n      ${fullscreenBaseCSSText}\n      z-index: ${(Number(t.viewIndex)||0)+1};\n      transform: ${e?\"translate3d(0, 0, 0)\":\"translate3d(0, 200%, 0)\"};\n      backface-visibility: hidden;\n      contain: strict;\n      overflow: hidden;\n    `)}getSuperViewport(t=this.applet){return\"system\"===t.rel?this.fixedViewport:t.config.free?this.absoluteViewport.shadowRoot||this.absoluteViewport:this.relativeViewport.shadowRoot||this.relativeViewport}checkSwitchViewport(t=this.prevApplet,e=this.applet){return!!e.config.free!=!!(t=t||e).config.free}to(...e){return __awaiter(this,void 0,void 0,function*(){var t=this.next()||this.promise(...e);return this.pushPromise(this.bindPromiseDone(t),e)})}prev(){return this.promiseQueue[0]}next(){const t=this.prev();var e=()=>this.bindPromiseDone(this.promise(...this.promiseParamQueue[0]));if(t)return t.then(e).catch(e)}pushPromise(t,e){return this.promiseParamQueue.push(e),this.promiseQueue.push(t),t}shiftPromise(){this.promiseParamQueue.shift(),this.promiseQueue.shift()}bindPromiseDone(e){return __awaiter(this,void 0,void 0,function*(){var t=()=>this.shiftPromise();return e.then(t).catch(t)})}limit(t){var e=Math.max((null==(e=null==this?void 0:this.options)?void 0:e.limit)||3,2),i=this.windowSet.indexOf(t);\"applet\"===this.applet.rel&&!0!==this.applet.config.background&&(-1!==i&&this.windowSet.splice(i,1),this.windowSet.push(t),this.windowSet.length>e&&null!=(i=this.application.applets[this.windowSet.splice(0,1)[0]])&&i.destroy())}destroy(e){e.transient&&-1===this.prevHistoryStep?this.application.del(e.id).then(()=>{var t=this.windowSet.indexOf(e.id);this.windowSet.splice(t,1)}):e.guarding().then(t=>{t||e.destroy().then(()=>{var t=this.windowSet.indexOf(e.id);this.windowSet.splice(t,1)})})}getActionPosition(t){let e=0,i=0;return i=t.changedTouches?(e=t.changedTouches[0].pageX,t.changedTouches[0].pageY):(e=t.x,t.y),{x:e,y:i}}promise(s,o=location.search,r=1,n){var l;return __awaiter(this,void 0,void 0,function*(){var t=this.id;const e=this.application.applets[s];var t=this.application.applets[t],i=t?[e,t]:[e];return e?s===this.id?Promise.resolve():null!=(l=e.mountBehavior)&&l.agentSegue?null==(l=e.mountBehavior)?void 0:l.agentSegue():(this.prevId=this.id,this.id=s,this.param=o,this.applet=e,this.prevApplet=t,this.appletGroup=i,this.prevHistoryStep=r,this.hasAnimation=this.checkAnimationNamed(),this.isNativeAnimation=this.checkNativeAnimation(),this.hasSuperSwitched=this.checkSwitchViewport(),this.target=this.getSuperViewport(),this.touches=n?this.getActionPosition(n):e.getActionOrigin(),this.attachAppletViewport(e),this.resetAppletViewport(e),this.start().then(()=>__awaiter(this,void 0,void 0,function*(){return this.requestRegisterHistory(s,e.config.title,o),e.setActionOrigin(this.touches),yield e.setParam(o),yield e.build(),this.transform().then(t=>{this.end(t),this.limit(s),this.application.pullDependencies(null==(t=e.config)?void 0:t.prerender).then(()=>{this.application.trigger(\"prerenderComplete\")}),e.config.title&&(document.title=e.config.title)})}))):this.application.get(s).then(()=>this.promise(s,o,r)).catch(()=>{if(this.options.notFound)return this.promise(this.options.notFound,o?o+\"&__notFoundId=\"+s:\"?__notFoundId=\"+s,r)})})}pos(){let t=(null==(o=this.touches)?void 0:o.x)||0,e=(null==(o=this.touches)?void 0:o.y)||0,i=\"center\",s=\"center\";var o=this.relativeViewport.offsetWidth,r=this.relativeViewport.offsetHeight;return t&&e&&(s=[t,e],t<o/4?t=0:t>3*o/4&&(t=o),e<r/4?e=0:e>3*r/4&&(e=r),i=[t,e]),{x:t,y:e,width:o,height:r,attach:i,origin:s}}modulation(i){const s=this.viewports,o=this.backsetState,r=0!==o,n=this.pos();return new Promise((e,t)=>{import(\"./index-339a1808.js\").then(({Animate:t})=>{t={x:n.x,y:n.y,in:new t(s[0]),out:new t(s[1]),view:s,width:n.width,height:n.height,viewports:[this.relativeViewport,this.absoluteViewport],applets:this.appletGroup,reverse:r,direction:r?-1:1,backset:o,historyDirection:this.historyDirection,origin:n.origin,attach:n.attach,touches:this.touches,swipeTransitionType:null!=(t=this.options.swipeTransitionType)?t:\"zoom\",callback:i};e(t)}).catch(()=>{t()})})}transform(){return __awaiter(this,void 0,void 0,function*(){return new Promise(o=>{var t;if(!this.hasAnimation)return null!=(t=this.applet.controls)&&t.disable(),this.switchViewport(),o(!1);this.getAnimationOneSide(this.backsetState).then(s=>{this.bindHistoryBreak(()=>o(!1)),this.modulation(o).then(t=>{var e;if(this.prevApplet&&this.isNativeAnimation||null!=(e=this.applet.controls)&&e.disable(),!s)return o(!1);null!=(e=this.prevApplet)&&e.willSegueHide(),this.applet.willSegueShow();const i=s(t);i instanceof Promise&&i.then(o).then(()=>{var t;null!=(t=this.applet.controls)&&t.activate()}),setTimeout(()=>o(!1),1200)}).catch(()=>{o(!1)})}).catch(()=>o(!1))})})}start(){return new Promise((t,e)=>{this.application.trigger(\"transformStart\",this.appletGroup);const i=this.applet.events.transformStart;if(\"function\"==typeof i&&\"break\"===i(this.applet))return e();this.hasAnimation&&!this.hasSuperSwitched||this.applet.viewport&&(this.applet.viewport.style.transform=\"translate3d(0, 0, 0)\"),this.applet.willShow(),this.prevApplet&&this.prevApplet.willHide(),t()})}end(t=!1){(this.applet.isFullscreen||this.countercurrent)&&(this.hasSuperSwitched&&this.switchViewport(),this.switchApplet(t)),this.applet.show(),this.prevApplet&&this.prevApplet.hide();const e=this.applet.events.transformEnd;\"function\"==typeof e&&e(this.applet),this.application.trigger(\"transformEnd\",this.appletGroup)}switchViewport(){var t;this.resetViewport(null==(t=null==(t=this.applet)?void 0:t.config)?void 0:t.free)}switchApplet(t=!1){this.prevApplet&&(t||(\"applet\"===this.prevApplet.rel&&(t=this.options.swipeModel&&this.prevApplet.level<this.applet.level,this.prevApplet.viewport&&(this.prevApplet.viewport.style.transform=t?\"translate3d(0, 0, 0)\":\"translate3d(0, 200%, 0)\")),this.resetAppletViewport(this.applet,!0)),this.prevApplet.viewport&&(this.prevApplet.viewport.style.transitionDuration=\"0ms\"),!0===this.prevApplet.config.background||this.applet.config.modality?this.prevApplet.hide():this.destroy(this.prevApplet))}}class Segue extends SegueSwitch{setup(t){this.options=t}}class ApplicationBase extends EventProvider{constructor(){super(...arguments),this.applets={},this.presetAppletsView={},this.historyNodeLocation=history.length,this.routerRegExp=/([^#/]+)(.+)?/}resolveURL(t){t=new URL(t,window.location.toString());const e=t;return void 0===t.href&&(e.href=String(t)),e}verifyAppletSrcLegitimacy(t){var e=this.config.capture;if(e)return this.captureAppletSrc(t,e);const i=this.config.allowHosts||[];if(0===i.length)return!0;i.push(location.host);var s=new URL(decodeURIComponent(t),window.location.toString()).host;for(const o of i)if(s===o)return!0;return!1}captureAppletSrc(t,e=this.config.capture){var i=this.resolveURL(t),s=i.origin+i.pathname;if(\"string\"==typeof e){if(e===s)return!0}else if(\"function\"==typeof e&&e(i,t))return!0;return!1}promiseApplet(t){return Promise.resolve(t())}delPresetAppletsView(t){delete this.presetAppletsView[t]}setPrestAppletsView(t){this.presetAppletsView=t}setting(t){this.options=t}}class ApplicationState extends ApplicationBase{constructor(){var t;super(...arguments),this.overscrollHistoryNavigation={moment:0,type:\"\"},this.properties={darkTheme:null==(t=null==(t=window.matchMedia)?void 0:t.call(window,\"(prefers-color-scheme: dark)\"))?void 0:t.matches}}get route(){var t=this.routerRegExp.exec(location.hash)||[],e=t[1],t=t[2],i=location.search;return{id:e?decodeURIComponent(e):\"\",param:t?decodeURIComponent(t):\"\",search:i}}get exists(){try{return parseInt(sessionStorage.getItem(location.pathname+\"__EXISTS\")||\"-1\",10)===history.length}catch(t){return!1}}get activityApplet(){var t=this.segue.id;return this.applets[t]}get prevActivityApplet(){var t=this.segue.prevId;return this.applets[t]}get activityLevel(){var t;return(null!=(t=null==(t=this.activityApplet)?void 0:t.config.level)?t:0)+1}setExists(){const i=location.pathname+\"__EXISTS\",s=String(history.length);return new Promise((t,e)=>{try{sessionStorage.setItem(i,s),t()}catch(t){try{sessionStorage.clear(),sessionStorage.setItem(i,s)}catch(t){e()}}})}}provider=i=>{window.addEventListener(\"message\",t=>{var{action:t,data:e}=t.data;switch(t){case\"to\":i.segue.to(e.applet,e.query,e.history);break;case\"back\":i.segue.back();break;case\"forward\":i.segue.forward();break;case\"pushWindow\":i.pushWindow(...e)}})};const globalCSSText=`\n  html, body {\n    width: 100vw;\n    height: 100vh;\n    min-width: 100vw;\n    min-height: 100vh;\n    max-width: 100vw;\n    max-height: 100vh;\n    overflow: hidden;\n  }\n  define-applet {\n    display: block;\n  }\n`;class Application extends ApplicationState{constructor(t={}){super(),this.tunneling=!1,this.pullRefreshHolder={holder:null,spinner:null,holdLayer:null},this.working=!1,this.root=t.root,this.appletsSpace=t.appletsSpace,this.tunneling=parent!==window&&!!t.tunneling&&parent.__LATH_APPLICATION_AVAILABILITY__,this.segue=new Segue(this,t),this.presetConfig=t,this.to=this.segue.to.bind(this.segue),this.activatedTunneling(),provider(this),this.setBaseStyle()}setBaseStyle(){const t=document.createElement(\"style\");t.innerHTML=globalCSSText,document.head.appendChild(t)}add(t,e){var i;if(this.applets[t])return this.applets[t];const s=null==(i=this.config)?void 0:i.appletManifestProcess;return s&&(e=s(e)||e),this.applets[t]=new Applet(t,e,this)}del(s){return new Promise((t,e)=>{const i=this.applets[s];i.view?i.destroy().then(t).catch(e):t(!0),delete this.applets[s]})}get(e){var i;return __awaiter(this,void 0,void 0,function*(){if(\"object\"==typeof this.applets[e])return Promise.resolve(this.applets[e]);var t=this.options.applets[e];switch(typeof t){case\"function\":return Promise.resolve(this.add(e,yield this.promiseApplet(t)));case\"object\":return Promise.resolve(this.add(e,t));case\"string\":return this.verifyAppletSrcLegitimacy(e)&&null!=(i=yield this.createAppletByURL(e,{},e))?i:Promise.reject();default:return Promise.reject()}})}cloneAsNewApplet(t,e,i={}){if(!e)return t;i=Object.assign({},t.model.config,i);return this.add(e,Object.assign({},t.model,{config:i}))}getAppletByURL(n){return __awaiter(this,void 0,void 0,function*(){var t=this.captureAppletSrc(n);if(\"string\"==typeof t)return this.get(t);var e=this.applets,t=this.resolveURL(n),i=t.origin+t.pathname;for(const r in e){var s=e[r],o=s.config.capture;if(\"applet\"===s.rel){if(o&&this.captureAppletSrc(n,o))return s;if(s.uri===i)return s}}})}createAppletByURL(i,s,o){var r;return __awaiter(this,void 0,void 0,function*(){var t=decodeURIComponent(i),e=this.applets,e=null!=(r=e[t])?r:yield this.getAppletByURL(i);if(e)return o?this.cloneAsNewApplet(e,o,s):e;e=!0!==this.config.disableTransient;return this.add(t,{config:Object.assign({title:\"\",rel:\"applet\",free:!0,source:{src:i},background:\"auto\",timeout:e?0:null!=(r=this.config.transientTimeout)?r:6e4,animation:\"inherit\",color:this.config.color,transient:e},s)})})}pushWindow(s,o=\"\",r=\"slide\",n,l){var a;return __awaiter(this,void 0,void 0,function*(){if(!this.verifyAppletSrcLegitimacy(s))return Promise.reject(\"Illegal\");if(this.tunneling)return parent.postMessage({action:\"pushWindow\",data:[s,o,r,n,l]},\"*\"),Promise.resolve();const t=this.resolveURL(s);if(-1===t.protocol.indexOf(\"http\"))return Promise.reject(\"Unknown\");var e=t.search,i=yield this.createAppletByURL(s,{title:o,animation:r,level:this.activityLevel},n);return i?this.segue.to(i.id,null!=(a=null==(a=i.config)?void 0:a.source)&&a.html?e:\"\",1,l):Promise.reject()})}pullDependencies(t=[],i=!0){const e=[];for(const s of t)e.push(new Promise((e,t)=>{this.get(s).then(t=>{i?t.prerender().then(e).catch(e):e(\"\")}).catch(t)}));return Promise.all(e)}updateSafeArea(t){this.trigger(\"safeAreaChange\",t)}updateGlobalCSSVariables(t){this.trigger(\"globalCSSVariablesChange\",t)}refresh(){for(const t in this.applets){const e=this.applets[t];e.visibility?e.refresh():e.status.requestRefresh=!0}}install(s,o){return new Promise((e,i)=>{import(\"./install-6e75f362.js\").then(({install:t})=>{t(s,o).then(e).catch(i)}).catch})}createAppSwitcher(){import(\"./index-5cdd5a49.js\").then(({AppSwitcher:t})=>{this.appSwitcher=new t(this)}).catch}createPullToRefreshHolder(){import(\"./index-a36d95ad.js\").then(t=>{this.pullRefreshHolder=t.createPullToRefreshHolder(this.properties.darkTheme,this.segue.fixedViewport),this.trigger(\"pullToRefreshAvailable\")}).catch}mountSystem(){this.options.applets.system&&this.get(\"system\").then(t=>{t.build().then(()=>this.trigger(\"systemDidMount\",t))})}mountFramework(){return __awaiter(this,void 0,void 0,function*(){return this.get(\"frameworks\").then(t=>{var e=this.route;const i=t.config;var s=i.index||\"\",o=i.preIndex;const r=e.id||s;return this.config=i,this.segue.setup({singleFlow:i.singleFlow,singleLock:i.singleLock,index:s,defaultIndex:r,oneHistory:i.oneHistory,notFound:i.notFound,limit:Math.max(i.limit||7,2),defaultAnimation:i.animation,holdBack:i.holdBack,swipeTransitionType:i.swipeTransitionType,swipeModel:t.swipeModel}),Promise.all([this.segue.to(\"frameworks\",void 0,-1).then(()=>{i.pullToRefresh&&this.createPullToRefreshHolder(),i.appSwitcher&&this.createAppSwitcher(),this.trigger(\"frameworksDidMount\",t),window.dispatchEvent(new CustomEvent(\"lathApplicationReady\",{detail:{application:this}}))}),this.mountFirstApplet(r,s,o,i.oneHistory).then(()=>{this.segue.id!==r&&this.resolveURL(r).origin!==location.origin&&this.pushWindow(r)})])}).catch(()=>{typeError(1007)})})}mountFirstApplet(t,e,i,s){return s?(this.segue.pushState(e||\"frameworks\"),t?this.segue.to(t,void 0,1):Promise.resolve()):t!==e&&t!==i?(i&&this.segue.pushState(i),t?this.segue.to(t,void 0,this.exists?-1:1):Promise.resolve()):t?this.segue.to(t,void 0,-1):Promise.resolve()}activatedTunneling(){!1!==this.tunneling&&window.addEventListener(\"message\",t=>{var e=t.data[\"type\"];const i=this.activityApplet;if(t.source!==window)switch(e){case\"applet-show\":null!==i&&void 0!==i&&i.show();break;case\"applet-hide\":null!==i&&void 0!==i&&i.hide();break;case\"applet-will-show\":null!==i&&void 0!==i&&i.willShow();break;case\"applet-will-hide\":null!==i&&void 0!==i&&i.willHide()}})}start(){return __awaiter(this,void 0,void 0,function*(){return this.options.applets?this.working?Promise.reject(\"repeat\"):(this.working=!0,this.setExists(),this.mountSystem(),this.mountFramework().then(()=>{this.trigger(\"firstAppletDidMount\")})):Promise.reject(\"Please configure the applet first!\")})}}index=Object.freeze({__proto__:null,Application:Application});export{EventProvider as E,index as i,requestAnimationFrame as r,setTimeout$1 as s};"],"names":[],"sourceRoot":""}