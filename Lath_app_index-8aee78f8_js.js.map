{"version":3,"file":"Lath_app_index-8aee78f8_js.js","mappings":";;;;;;;;;;;;;;;AAAgJ,kBAAkB,eAAe,mBAAmB,IAAI,sDAAsD,SAAS,kHAAkH,qBAAqB,qRAA6B,WAAW,gBAAgB,EAAE,kBAAkB,sCAAsC,qEAAqE,sBAAsB,gGAAgG,uBAAuB,oFAAoF,OAAO,OAAO,qDAAS,gCAAgC,oIAAoI,qDAAU,MAAM,mBAAmB,OAAO,EAAE,QAAQ,+EAA+E,qDAAU,MAAM,iEAAiE,MAAM,oBAAoB,OAAO,qDAAS,gCAAgC;AAC/vC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,iDAAc,gBAAgB,8IAA8I,QAAQ,kBAAkB,IAAI,uBAAuB,4CAA4C,uNAAuN;AAC1f;AACA,oBAAoB,KAAK;AACzB;AACA;AACA;AACA;AACA,UAAU;AACV,kCAAkC,gBAAgB;AAClD;AACA,aAAa;AACb;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB,EAAE;AACtB,wBAAwB;AACxB;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB,EAAE;AACtB,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,kCAAkC,cAAc;AAChD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2MAA2M,6EAA6E,iCAAiC,wBAAwB;AACjV;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,6BAA6B,KAAK;AAClC,qBAAqB,IAAI;AACzB,sBAAsB,IAAI;AAC1B;AACA,+GAA+G,qDAAqB,MAAM,kCAAkC,qDAAqB,MAAM,oDAAoD,EAAE,MAAM,EAAE,iBAAiB,EAAE,GAAG,qDAAU,MAAM,kBAAkB,MAAM,EAAE,EAAE,wFAAwF,qCAAqC,YAAY,gBAAgB,EAAE,gCAAgC;AAClgB;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,EAAE,MAAM,EAAE,iBAAiB,EAAE;AAClE,0BAA0B;AAC1B,6BAA6B,KAAK;AAClC;AACA,YAAY,qDAAqB,MAAM,kCAAkC,oEAAoE,qDAAqB,MAAM,wDAAwD,mBAAmB,4CAA4C,mBAAmB,qDAAU,MAAM,mEAAmE,gBAAgB,EAAE,EAAE,GAAG,IAAI","sources":["webpack://lath-docs/../Lath/app/index-8aee78f8.js"],"sourcesContent":["import{_ as __awaiter}from\"./index-37b822be.js\";import{s as setTimeout,S as SmoothScroller,r as requestAnimationFrame}from\"./index-12f72558.js\";class AppSwitcher{constructor(e){this.inProgress=!1;var{relativeViewport:t,absoluteViewport:i,fixedViewport:s}=e.segue;this.relativeViewport=t,this.absoluteViewport=i,this.fixedViewport=s,this.application=e,this.delayDynamicImport()}delayDynamicImport(){import(\"./index-8e5e5162.js\").catch(e=>{console.warn(e)})}getActiveApplet(){var e=this.application.activityApplet;return null!=e&&e.slide?this.application.applets[e.slide.activeId]:e}blurBackgroundImage(){this.relativeViewport.style.filter=\"blur(20px)\",this.absoluteViewport.style.filter=\"blur(20px)\"}focusBackgroundImage(){this.relativeViewport.style.filter=\"none\",this.absoluteViewport.style.filter=\"none\"}open(){return __awaiter(this,void 0,void 0,function*(){!0!==this.inProgress&&(this.inProgress=!0,yield this.createAppSwitcher(),this.blurBackgroundImage(),this.switcher.style.opacity=\"1\",setTimeout(()=>{this.inProgress=!1},400))})}close(){this.inProgress=!0,this.focusBackgroundImage(),this.switcher.style.opacity=\"0\",setTimeout(()=>{this.fixedViewport.removeChild(this.switcher),this.inProgress=!1},400)}createAppSwitcher(){return __awaiter(this,void 0,void 0,function*(){this.switcher=document.createElement(\"applet-switcher\"),this.switcher.style.cssText=`\n      display: grid;\n      box-sizing: border-box;\n      position: absolute;\n      inset: 0;\n      z-index: 2;\n      width: 100%;\n      height: 100%;\n      padding: 10px;\n      padding-top: constant(safe-area-inset-top);\n      padding-top: env(safe-area-inset-top);\n      overflow-y: scroll !important;\n      scroll-padding: 12px;\n      scroll-behavior: smooth;\n      scroll-snap-type: y mandatory;\n      grid-template-columns: 50% 50%;\n      grid-auto-rows: max-content;\n      background: rgb(128 128 128 / 50%);\n      opacity: 0;\n      transition: opacity .4s ease;\n    `,this.scroll=new SmoothScroller(this.switcher);var e=this.relativeViewport.offsetWidth,t=e/2-30,i=this.relativeViewport.offsetHeight*t/e,s=this.application.applets,o=this.getActiveApplet();let r=0;for(const n in s){r++;const l=s[n],p=l.color;if(\"applet\"===l.rel&&!l.isModality&&l.view){const c=document.createElement(\"applet-switcher-item\"),d=document.createElement(\"div\"),h=document.createElement(\"div\"),x=document.createElement(\"div\"),f=document.createElement(\"div\"),m=document.createElement(\"div\");c.style.cssText=`\n          width: 100%;\n          height: ${50+i}px;\n          padding: 0 10px;\n          box-sizing: border-box;\n          scroll-snap-align: start;\n          cursor: pointer;\n        `;var a=l.config.poster?`\n          background-image: url(${l.config.poster});\n          background-size: cover;\n        `:\"\";d.style.cssText=`\n          display: block;\n          margin-top: 20px;\n          width: ${t}px;\n          height: ${i}px;\n          background: ${p};\n          border-radius: 16px;\n          overflow: hidden;\n          box-shadow: 0 3px 7px rgb(0 0 0 / 10%);\n          ${a}\n        `,h.style.cssText=`\n          position: absolute;\n          z-index: 1;\n          display: block;\n          width: ${t}px;\n          height: ${i}px;\n          background: ${p};\n          border-radius: 16px;\n          overflow: hidden;\n        `,f.style.cssText=`\n          display: flex;\n          margin: 0 auto;\n          width: ${t}px;\n          align-items: center;\n        `,x.style.cssText=l.config.icon?`\n          width: 16px;\n          height: 16px;\n          background-image: url(${l.config.icon});\n        `:\"display: none;\",m.style.cssText=`\n          margin-top: 4px;\n          font-size: 16px;\n          color: #fff;\n          overflow: hidden;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          font-family: \"SF Pro Text\",\"Myriad Set Pro\",\"SF Pro Icons\",\"Apple Legacy Chevron\",\"Helvetica\",\"Arial\",sans-serif;\n        `,m.innerText=l.config.title||l.id,f.appendChild(x),f.appendChild(m),d.appendChild(h),c.appendChild(d),c.appendChild(f),this.switcher.appendChild(c),this.fixedViewport.appendChild(this.switcher);const u=h.offsetTop,g=h.offsetLeft,w=h.offsetWidth/this.switcher.offsetWidth;if(l.id===(null==o?void 0:o.id)){const y=h.style.cssText;h.style.cssText=`\n            position: fixed;\n            top: 0;\n            ${r%2==0?`\n              left: 0;\n            `:`\n              right: 0;\n            `}\n            transform-origin: top left;\n            transform: translate3d(0px, 0px, 0px);\n            background: ${p};\n            border-radius: ${16/w}px;\n            width: ${t/w}px;\n            height: ${i/w}px;\n            overflow: hidden;\n          `,h.appendChild(yield l.captureShot()),4<r&&this.scroll.snapTo(0,this.switcher.offsetHeight*(r-4)/4),requestAnimationFrame(()=>{h.style.transition=\"all .4s ease\",requestAnimationFrame(()=>{h.style.zIndex=\"3\",h.style.transform=`translate3d(${g}px, ${u}px, 0px) scale(${w})`,setTimeout(()=>{h.style.cssText=y},600)})})}else d.style.opacity=\"0\",d.style.transition=\"opacity .4s ease\",l.captureShot().then(e=>{h.appendChild(e),d.style.opacity=\"1\"}).catch(e=>{console.warn(e)});c.addEventListener(\"click\",()=>{this.inProgress||(this.inProgress=!0,h.style.cssText=`\n            position: fixed;\n            top: 0;\n            right: 0;\n            left: 0;\n            z-index: 5;\n            transform-origin: top left;\n            transform: translate3d(${g}px, ${u}px, 0px) scale(${w});\n            background: ${p};\n            border-radius: ${16/w}px;\n            overflow: hidden;\n          `,requestAnimationFrame(()=>{const i=h.querySelector(\"canvas\");h.style.transition=\"all .4s ease\",i.style.transition=\"all .4s ease\",requestAnimationFrame(()=>{h.style.transform=\"translate3d(0px, 0px, 0px) scale(1)\";const t=Date.now();this.application.to(l.id,l.param).then(()=>{var e=Date.now()-t;setTimeout(()=>{h.style.borderRadius=\"0px\",i.style.borderRadius=\"0px\",this.close()},200<e?0:400-e)})})}))})}}})}}export{AppSwitcher};"],"names":[],"sourceRoot":""}